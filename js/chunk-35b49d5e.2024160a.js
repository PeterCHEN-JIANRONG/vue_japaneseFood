(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35b49d5e"],{2532:function(e,t,n){"use strict";var r=n("23e7"),a=n("e330"),i=n("5a34"),o=n("1d80"),c=n("577e"),s=n("ab13"),l=a("".indexOf);r({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~l(c(o(this)),c(i(e)),arguments.length>1?arguments[1]:void 0)}})},2909:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("6b75");function a(e){if(Array.isArray(e))return Object(r["a"])(e)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function i(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var o=n("06c5");n("d9e2");function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e){return a(e)||i(e)||Object(o["a"])(e)||c()}},"40ad":function(e,t,n){},"44e7":function(e,t,n){var r=n("861d"),a=n("c6b6"),i=n("b622"),o=i("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==a(e))}},"4fad":function(e,t,n){var r=n("d039"),a=n("861d"),i=n("c6b6"),o=n("d86b"),c=Object.isExtensible,s=r((function(){c(1)}));e.exports=s||o?function(e){return!!a(e)&&((!o||"ArrayBuffer"!=i(e))&&(!c||c(e)))}:c},"5a34":function(e,t,n){var r=n("da84"),a=n("44e7"),i=r.TypeError;e.exports=function(e){if(a(e))throw i("The method doesn't accept regular expressions");return e}},"5b5d":function(e,t,n){"use strict";n("40ad")},6062:function(e,t,n){"use strict";var r=n("6d61"),a=n("6566");r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),a)},6566:function(e,t,n){"use strict";var r=n("9bf2").f,a=n("7c73"),i=n("e2cc"),o=n("0366"),c=n("19aa"),s=n("2266"),l=n("7dd0"),u=n("2626"),d=n("83ab"),f=n("f183").fastKey,p=n("69f3"),b=p.set,g=p.getterFor;e.exports={getConstructor:function(e,t,n,l){var u=e((function(e,r){c(e,p),b(e,{type:t,index:a(null),first:void 0,last:void 0,size:0}),d||(e.size=0),void 0!=r&&s(r,e[l],{that:e,AS_ENTRIES:n})})),p=u.prototype,v=g(t),m=function(e,t,n){var r,a,i=v(e),o=h(e,t);return o?o.value=n:(i.last=o={index:a=f(t,!0),key:t,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=o),r&&(r.next=o),d?i.size++:e.size++,"F"!==a&&(i.index[a]=o)),e},h=function(e,t){var n,r=v(e),a=f(t);if("F"!==a)return r.index[a];for(n=r.first;n;n=n.next)if(n.key==t)return n};return i(p,{clear:function(){var e=this,t=v(e),n=t.index,r=t.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;t.first=t.last=void 0,d?t.size=0:e.size=0},delete:function(e){var t=this,n=v(t),r=h(t,e);if(r){var a=r.next,i=r.previous;delete n.index[r.index],r.removed=!0,i&&(i.next=a),a&&(a.previous=i),n.first==r&&(n.first=a),n.last==r&&(n.last=i),d?n.size--:t.size--}return!!r},forEach:function(e){var t,n=v(this),r=o(e,arguments.length>1?arguments[1]:void 0);while(t=t?t.next:n.first){r(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!h(this,e)}}),i(p,n?{get:function(e){var t=h(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),d&&r(p,"size",{get:function(){return v(this).size}}),u},setStrong:function(e,t,n){var r=t+" Iterator",a=g(t),i=g(r);l(e,t,(function(e,t){b(this,{type:r,target:e,state:a(e),kind:t,last:void 0})}),(function(){var e=i(this),t=e.kind,n=e.last;while(n&&n.removed)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),u(t)}}},"6d61":function(e,t,n){"use strict";var r=n("23e7"),a=n("da84"),i=n("e330"),o=n("94ca"),c=n("6eeb"),s=n("f183"),l=n("2266"),u=n("19aa"),d=n("1626"),f=n("861d"),p=n("d039"),b=n("1c7e"),g=n("d44e"),v=n("7156");e.exports=function(e,t,n){var m=-1!==e.indexOf("Map"),h=-1!==e.indexOf("Weak"),O=m?"set":"add",j=a[e],y=j&&j.prototype,k=j,E={},x=function(e){var t=i(y[e]);c(y,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(h&&!f(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return h&&!f(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(h&&!f(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})},N=o(e,!d(j)||!(h||y.forEach&&!p((function(){(new j).entries().next()}))));if(N)k=n.getConstructor(t,e,m,O),s.enable();else if(o(e,!0)){var w=new k,B=w[O](h?{}:-0,1)!=w,V=p((function(){w.has(1)})),C=b((function(e){new j(e)})),S=!h&&p((function(){var e=new j,t=5;while(t--)e[O](t,t);return!e.has(-0)}));C||(k=t((function(e,t){u(e,y);var n=v(new j,e,k);return void 0!=t&&l(t,n[O],{that:n,AS_ENTRIES:m}),n})),k.prototype=y,y.constructor=k),(V||S)&&(x("delete"),x("has"),m&&x("get")),(S||B)&&x(O),h&&y.clear&&delete y.clear}return E[e]=k,r({global:!0,forced:k!=j},E),g(k,e),h||n.setStrong(k,e,m),k}},7260:function(e,t,n){"use strict";n.r(t);n("99af"),n("caad"),n("2532"),n("a4d3"),n("e01a");var r=n("7a23"),a=function(e){return Object(r["pushScopeId"])("data-v-22e1bd23"),e=e(),Object(r["popScopeId"])(),e},i=a((function(){return Object(r["createElementVNode"])("div",{class:"banner position-relative mb-4"},[Object(r["createElementVNode"])("div",{class:"container position-absolute top-50 start-50 translate-middle text-center"},[Object(r["createElementVNode"])("h1",{class:"text-white"},"精選商品"),Object(r["createElementVNode"])("h2",{class:"h4 text-white"},"やまだ提供多種口味的壽司、甜點，滿足您的味蕾")])],-1)})),o={class:"container"},c={class:"row"},s={class:"col-md-2"},l={class:"list-group mb-4 mb-md-0"},u=["onClick"],d={class:"col-md-10"},f={class:"row row-cols-md-2 row-cols-lg-3 g-3 mb-4"},p=["onClick"],b={class:"overflow-hidden position-relative"},g=["src","alt"],v=["src","alt"],m=a((function(){return Object(r["createElementVNode"])("h5",{class:"h4 mb-0 text-white position-absolute product-information"},"詳細資訊",-1)})),h=["onClick"],O={key:3,class:"badge bg-danger position-absolute top-0 start-0 fs-5"},j={class:"card-body"},y={class:"card-title space-nowrap overflow-hidden"},k={class:"card-text text-truncate text-muted mb-2"},E={class:"d-flex justify-content-center align-items-end mb-3"},x={class:"fs-2 mb-0 text-danger me-2"},N={class:"fs-6 mb-0 text-decoration-line-through text-muted"},w={key:1,class:"fs-2 mb-0"},B={class:"btn-group w-100",role:"group","aria-label":"Basic outlined example"},V=["onClick"],C={key:0,class:"material-icons align-middle"},S={key:1,class:"material-icons align-middle"},F=["onClick","disabled"],_=a((function(){return Object(r["createElementVNode"])("span",{class:"material-icons align-middle"}," add_shopping_cart ",-1)})),A=[_];function I(e,t,n,a,_,I){var P=Object(r["resolveComponent"])("Loading"),D=Object(r["resolveComponent"])("Pagination");return Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[Object(r["createVNode"])(P,{active:_.isLoading},null,8,["active"]),i,Object(r["createElementVNode"])("div",o,[Object(r["createElementVNode"])("div",c,[Object(r["createElementVNode"])("div",s,[Object(r["createElementVNode"])("div",l,[Object(r["createElementVNode"])("button",{type:"button",class:Object(r["normalizeClass"])(["list-group-item list-group-item-action",{active:""===_.category}]),onClick:t[0]||(t[0]=function(e){return I.setCategory("")})}," 全部商品 ",2),(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(_.categories,(function(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("button",{key:"".concat(t,"-").concat(e),type:"button",class:Object(r["normalizeClass"])(["list-group-item list-group-item-action",{active:_.category===e}]),onClick:function(t){return I.setCategory(e)}},Object(r["toDisplayString"])(e),11,u)})),128))])]),Object(r["createElementVNode"])("div",d,[Object(r["createElementVNode"])("div",f,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(_.products,(function(t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{class:"col",key:t.id},[Object(r["createElementVNode"])("div",{class:"card hover-shadow card-img-hover cursor-pointer",onClick:function(n){return e.$router.push("/product/".concat(t.id))}},[Object(r["createElementVNode"])("div",b,[t.imageUrlSmall?(Object(r["openBlock"])(),Object(r["createElementBlock"])("img",{key:0,src:t.imageUrlSmall,class:"card-img-top h-15s",alt:t.title},null,8,g)):(Object(r["openBlock"])(),Object(r["createElementBlock"])("img",{key:1,src:t.imageUrl,class:"card-img-top h-15s",alt:t.title},null,8,v)),m,e.favorite.includes(t.id)?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",{key:2,onClick:Object(r["withModifiers"])((function(n){return e.toggleFavorite(t.id)}),["stop"]),class:"material-icons card__heart"}," favorite ",8,h)):Object(r["createCommentVNode"])("",!0),t.price!==t.origin_price?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",O,"特價")):Object(r["createCommentVNode"])("",!0)]),Object(r["createElementVNode"])("div",j,[Object(r["createElementVNode"])("h2",y,Object(r["toDisplayString"])(t.title),1),Object(r["createElementVNode"])("p",k,Object(r["toDisplayString"])(t.description),1),Object(r["createElementVNode"])("div",E,[t.price!==t.origin_price?(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],{key:0},[Object(r["createElementVNode"])("h3",x,"NT$"+Object(r["toDisplayString"])(t.price),1),Object(r["createElementVNode"])("h4",N," NT$"+Object(r["toDisplayString"])(t.origin_price),1)],64)):(Object(r["openBlock"])(),Object(r["createElementBlock"])("h3",w,"NT$"+Object(r["toDisplayString"])(t.price),1))]),Object(r["createElementVNode"])("div",B,[Object(r["createElementVNode"])("button",{type:"button",class:"btn btn-outline-danger",onClick:Object(r["withModifiers"])((function(n){return e.toggleFavorite(t.id)}),["stop"])},[e.favorite.includes(t.id)?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",C," favorite ")):(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",S," favorite_border "))],8,V),Object(r["createElementVNode"])("button",{class:"btn btn-primary",onClick:Object(r["withModifiers"])((function(e){return I.addToCart(t.id)}),["stop"]),disabled:_.isLoadingItem===t.id},A,8,F)])])],8,p)])})),128))]),Object(r["createVNode"])(D,{class:"mb-5",pagination:_.pagination,onGetProducts:I.getProducts},null,8,["pagination","onGetProducts"])])])])],64)}var P=n("2909"),D=(n("d81d"),n("d3b7"),n("6062"),n("3ca3"),n("ddb0"),n("ca8d")),z=n("6be2"),L=n("89ba"),$={data:function(){return{products:[],pagination:{},isLoadingItem:"",isLoading:!1,productsAll:[],category:"",categories:[]}},components:{Pagination:D["a"]},mixins:[L["a"]],methods:{getProducts:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var n="".concat("https://vue3-course-api.hexschool.io/v2/","/api/").concat("peter_vue2022","/products?page=").concat(t,"&category=").concat(this.category);this.$http.get(n).then((function(t){e.products=t.data.products,e.pagination=t.data.pagination,e.isLoading=!1,document.documentElement.scrollTop=0})).catch((function(t){e.$httpMessageState(t.response,"錯誤訊息")}))},addToCart:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.isLoadingItem=e;var r={product_id:e,qty:n},a="".concat("https://vue3-course-api.hexschool.io/v2/","/api/").concat("peter_vue2022","/cart");this.$http.post(a,{data:r}).then((function(e){t.isLoadingItem="",z["a"].emit("get-cart"),t.$httpMessageState(e,e.data.message)})).catch((function(e){t.$httpMessageState(e.response,"錯誤訊息")}))},getProductsAll:function(){var e=this;this.isLoading=!0;var t="".concat("https://vue3-course-api.hexschool.io/v2/","/api/").concat("peter_vue2022","/products/all");this.$http.get(t).then((function(t){e.productsAll=t.data.products,e.isLoading=!1,e.createCategories()})).catch((function(t){e.$httpMessageState(t.response,"錯誤訊息")}))},createCategories:function(){if(0!==this.productsAll.length){var e=this.productsAll.map((function(e){return e.category}));this.categories=Object(P["a"])(new Set(e))}},setCategory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.category=e}},watch:{category:function(){this.getProducts()}},mounted:function(){this.getProductsAll(),this.getProducts()}},M=(n("5b5d"),n("6b0d")),T=n.n(M);const J=T()($,[["render",I],["__scopeId","data-v-22e1bd23"]]);t["default"]=J},"89ba":function(e,t,n){"use strict";n("c740"),n("a434"),n("e9c4");var r=n("6be2");t["a"]={data:function(){return{favorite:JSON.parse(localStorage.getItem("myFavorite"))||[]}},methods:{toggleFavorite:function(e){var t=this.favorite.findIndex((function(t){return t===e}));-1===t?(this.favorite.push(e),r["a"].emit("push-message",{style:"success",title:"加入最愛"})):(this.favorite.splice(t,1),r["a"].emit("push-message",{style:"danger",title:"移除最愛"}))}},watch:{favorite:{deep:!0,handler:function(){localStorage.setItem("myFavorite",JSON.stringify(this.favorite))}}}}},ab13:function(e,t,n){var r=n("b622"),a=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[a]=!1,"/./"[e](t)}catch(r){}}return!1}},bb2f:function(e,t,n){var r=n("d039");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},c740:function(e,t,n){"use strict";var r=n("23e7"),a=n("b727").findIndex,i=n("44d2"),o="findIndex",c=!0;o in[]&&Array(1)[o]((function(){c=!1})),r({target:"Array",proto:!0,forced:c},{findIndex:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i(o)},ca8d:function(e,t,n){"use strict";var r=n("7a23"),a={"aria-label":"Page navigation example"},i={class:"pagination justify-content-center"},o=Object(r["createElementVNode"])("span",{"aria-hidden":"true"},"«",-1),c=[o],s=["onClick"],l=Object(r["createElementVNode"])("span",{"aria-hidden":"true"},"»",-1),u=[l];function d(e,t,n,o,l,d){return Object(r["openBlock"])(),Object(r["createElementBlock"])("nav",a,[Object(r["createElementVNode"])("ul",i,[Object(r["createElementVNode"])("li",{class:Object(r["normalizeClass"])(["page-item",{disabled:!n.pagination.has_pre}])},[Object(r["createElementVNode"])("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:t[0]||(t[0]=Object(r["withModifiers"])((function(e){return d.getProduct(n.pagination.current_page-1)}),["prevent"]))},c)],2),(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(n.pagination.total_pages,(function(e){return Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{class:Object(r["normalizeClass"])(["page-item",{active:e===n.pagination.current_page}]),key:"page"+e},[Object(r["createElementVNode"])("a",{class:"page-link",href:"#",onClick:Object(r["withModifiers"])((function(t){return d.getProduct(e)}),["prevent"])},Object(r["toDisplayString"])(e),9,s)],2)})),128)),Object(r["createElementVNode"])("li",{class:Object(r["normalizeClass"])(["page-item",{disabled:!n.pagination.has_next}])},[Object(r["createElementVNode"])("a",{class:"page-link",href:"#","aria-label":"Next",onClick:t[1]||(t[1]=Object(r["withModifiers"])((function(e){return d.getProduct(n.pagination.current_page+1)}),["prevent"]))},u)],2)])])}var f={props:{pagination:{type:Object,default:function(){return{}}}},emits:["get-products"],methods:{getProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$emit("get-products",e)}}},p=n("6b0d"),b=n.n(p);const g=b()(f,[["render",d]]);t["a"]=g},caad:function(e,t,n){"use strict";var r=n("23e7"),a=n("4d64").includes,i=n("44d2");r({target:"Array",proto:!0},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},d81d:function(e,t,n){"use strict";var r=n("23e7"),a=n("b727").map,i=n("1dde"),o=i("map");r({target:"Array",proto:!0,forced:!o},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},d86b:function(e,t,n){var r=n("d039");e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},e9c4:function(e,t,n){var r=n("23e7"),a=n("da84"),i=n("d066"),o=n("2ba4"),c=n("e330"),s=n("d039"),l=a.Array,u=i("JSON","stringify"),d=c(/./.exec),f=c("".charAt),p=c("".charCodeAt),b=c("".replace),g=c(1..toString),v=/[\uD800-\uDFFF]/g,m=/^[\uD800-\uDBFF]$/,h=/^[\uDC00-\uDFFF]$/,O=function(e,t,n){var r=f(n,t-1),a=f(n,t+1);return d(m,e)&&!d(h,a)||d(h,e)&&!d(m,r)?"\\u"+g(p(e,0),16):e},j=s((function(){return'"\\udf06\\ud834"'!==u("\udf06\ud834")||'"\\udead"'!==u("\udead")}));u&&r({target:"JSON",stat:!0,forced:j},{stringify:function(e,t,n){for(var r=0,a=arguments.length,i=l(a);r<a;r++)i[r]=arguments[r];var c=o(u,null,i);return"string"==typeof c?b(c,v,O):c}})},f183:function(e,t,n){var r=n("23e7"),a=n("e330"),i=n("d012"),o=n("861d"),c=n("1a2d"),s=n("9bf2").f,l=n("241c"),u=n("057f"),d=n("4fad"),f=n("90e3"),p=n("bb2f"),b=!1,g=f("meta"),v=0,m=function(e){s(e,g,{value:{objectID:"O"+v++,weakData:{}}})},h=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!c(e,g)){if(!d(e))return"F";if(!t)return"E";m(e)}return e[g].objectID},O=function(e,t){if(!c(e,g)){if(!d(e))return!0;if(!t)return!1;m(e)}return e[g].weakData},j=function(e){return p&&b&&d(e)&&!c(e,g)&&m(e),e},y=function(){k.enable=function(){},b=!0;var e=l.f,t=a([].splice),n={};n[g]=1,e(n).length&&(l.f=function(n){for(var r=e(n),a=0,i=r.length;a<i;a++)if(r[a]===g){t(r,a,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},k=e.exports={enable:y,fastKey:h,getWeakData:O,onFreeze:j};i[g]=!0}}]);
//# sourceMappingURL=chunk-35b49d5e.2024160a.js.map